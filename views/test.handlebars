

  
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>
	
var words = [
  ['bo_t',['a','l','i','u']],
  ['station_ry',['a','e']],
  ['co_rse',['a','u']],
  ['con_ensus',['s']],
  ['definit_ly',['e']],
  ['separ_te',['a']],
  ['bure_ucracy',['a']],
  ['mano_uvre',['e']],
  ['entreprene_r',['u']],
  ['unne_essary',['c']],
  ['Liqu_fy',['e','i']],
];

var words2 = [
  'boat','bolt','boit','bout','stationary','stationery'
]
var letters = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','t','u','v','w','x','y','z'];
var lastWords = [];

var funWords = words.filter(function(w) { return !!w.match(/^fun/i) })
console.log(funWords)

function get4RandomLetters(exclude){
  var rand = [];
  var tempLet = letters[Math.floor(Math.random()*100)];
  while(rand.length < 5){
    while(rand.indexOf(tempLet) != -1 || exclude.indexOf(tempLet) != -1){
      tempLet = letters[Math.floor(Math.random()*100)];
    }
    rand.push(tempLet);
  }
  return rand;
}
function _getRandomWord(){
  var wordN = Math.floor(Math.random()*words.length);
  while(lastWords.indexOf(wordN) != -1){
    wordN = Math.floor(Math.random()*words.length);
  }

  var letterN = Math.floor(Math.random()*words[wordN][1].length);
  var filled = get4RandomLetters(words[wordN][1]).concat(words[wordN][1][letterN]).sort(function(){return 0.5 - Math.random()}).splice(0,5);

  lastWords.push(wordN);
  if(lastWords.length > words.length/2){
    lastWords.shift();
  }

  return [[words[wordN][0],filled.toString()].toString(),words[wordN][1][letterN]];
};

for (var i = 0; i < 100; i++) {
	console.log('_getRandomWord:', _getRandomWord());
}
</script>

